{"id":"server.js","dependencies":[{"name":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\package.json","includedInParent":true,"mtime":1564524015999},{"name":"dotenv","loc":{"line":1,"column":8},"parent":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\src\\server.js","resolved":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\node_modules\\dotenv\\lib\\main.js"},{"name":"express","loc":{"line":2,"column":24},"parent":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\src\\server.js","resolved":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\node_modules\\express\\index.js"},{"name":"path","loc":{"line":3,"column":21},"parent":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\src\\server.js","resolved":"C:\\Users\\adelgado\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\node_modules\\path-browserify\\index.js"},{"name":"nodemailer","loc":{"line":4,"column":27},"parent":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\src\\server.js","resolved":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\node_modules\\nodemailer\\lib\\nodemailer.js"},{"name":"body-parser","loc":{"line":5,"column":27},"parent":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\src\\server.js","resolved":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\node_modules\\body-parser\\index.js"},{"name":"express-validator","loc":{"line":6,"column":44},"parent":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\src\\server.js","resolved":"C:\\Users\\adelgado\\Documents\\courses\\andy-delgado.com\\node_modules\\express-validator\\index.js"}],"generated":{"js":"var __dirname = \"C:\\\\Users\\\\adelgado\\\\Documents\\\\courses\\\\andy-delgado.com\\\\src\";\nrequire('dotenv').config();\n\nvar express = require('express');\n\nvar path = require('path');\n\nvar nodemailer = require('nodemailer');\n\nvar bodyParser = require('body-parser');\n\nvar _require = require('express-validator'),\n    check = _require.check,\n    validationResult = _require.validationResult;\n\nvar app = express();\napp.use(bodyParser.urlencoded({\n  extended: true\n}));\napp.use('/public', express.static(path.join(__dirname, 'public')));\napp.get('/', function (req, res) {\n  res.type('html');\n  res.sendFile(path.join(__dirname, 'index.html'));\n});\napp.post('/contact', [check('name').trim().escape(), check('email').isEmail().normalizeEmail(), check('message').trim().escape()], function (req, res) {\n  console.log(req);\n  var errors = validationResult(req);\n\n  if (!errors.isEmpty()) {\n    return res.status(422).json({\n      errors: errors.array()\n    });\n  }\n\n  console.log(req);\n  var mailOpts, smtpTrans;\n  smtpTrans = nodemailer.createTransport('SMTP', {\n    // host: 'smtp.gmail.com',\n    service: 'Gmail',\n    // port: 465,\n    // secure: true,\n    auth: {\n      // user: process.env.GMAIL_USR,\n      // pass: process.env.GMAIL_PASS,\n      user: 'adelgado0723@gmail.com',\n      pass: 'Iloveakimura2018!'\n    }\n  });\n  mailOpts = {\n    from: req.body.name + ' &lt;' + req.body.email + '&gt;',\n    // to: process.env.GMAIL_USR,\n    to: 'adelgado0723@gmail.com',\n    subject: 'New message from contact form at andy-delgado.com',\n    text: \"\".concat(req.body.name, \" (\").concat(req.body.email, \") says: \").concat(req.body.message) // textEncoding: 'UTF-8',\n\n  };\n  smtpTrans.sendMail(mailOpts, function (error, response) {\n    // console.log(response);\n    if (error) {\n      console.log(error);\n      res.end('contact-failure');\n    } else {\n      res.end('contact-success');\n    }\n  });\n});\napp.listen(3000);\nconsole.log('listening on http://localhost:3000');"},"sourceMaps":{"js":{"mappings":[{"name":"require","generated":{"line":2,"column":0},"source":"server.js","original":{"line":1,"column":0}},{"generated":{"line":2,"column":7},"source":"server.js","original":{"line":1,"column":7}},{"generated":{"line":2,"column":8},"source":"server.js","original":{"line":1,"column":8}},{"generated":{"line":2,"column":16},"source":"server.js","original":{"line":1,"column":7}},{"generated":{"line":2,"column":17},"source":"server.js","original":{"line":1,"column":0}},{"name":"config","generated":{"line":2,"column":18},"source":"server.js","original":{"line":1,"column":18}},{"generated":{"line":2,"column":24},"source":"server.js","original":{"line":1,"column":0}},{"generated":{"line":4,"column":0},"source":"server.js","original":{"line":2,"column":0}},{"name":"express","generated":{"line":4,"column":4},"source":"server.js","original":{"line":2,"column":6}},{"generated":{"line":4,"column":11},"source":"server.js","original":{"line":2,"column":13}},{"name":"require","generated":{"line":4,"column":14},"source":"server.js","original":{"line":2,"column":16}},{"generated":{"line":4,"column":21},"source":"server.js","original":{"line":2,"column":23}},{"generated":{"line":4,"column":22},"source":"server.js","original":{"line":2,"column":24}},{"generated":{"line":4,"column":31},"source":"server.js","original":{"line":2,"column":23}},{"generated":{"line":4,"column":32},"source":"server.js","original":{"line":2,"column":0}},{"generated":{"line":6,"column":0},"source":"server.js","original":{"line":3,"column":0}},{"name":"path","generated":{"line":6,"column":4},"source":"server.js","original":{"line":3,"column":6}},{"generated":{"line":6,"column":8},"source":"server.js","original":{"line":3,"column":10}},{"name":"require","generated":{"line":6,"column":11},"source":"server.js","original":{"line":3,"column":13}},{"generated":{"line":6,"column":18},"source":"server.js","original":{"line":3,"column":20}},{"generated":{"line":6,"column":19},"source":"server.js","original":{"line":3,"column":21}},{"generated":{"line":6,"column":25},"source":"server.js","original":{"line":3,"column":20}},{"generated":{"line":6,"column":26},"source":"server.js","original":{"line":3,"column":0}},{"generated":{"line":8,"column":0},"source":"server.js","original":{"line":4,"column":0}},{"name":"nodemailer","generated":{"line":8,"column":4},"source":"server.js","original":{"line":4,"column":6}},{"generated":{"line":8,"column":14},"source":"server.js","original":{"line":4,"column":16}},{"name":"require","generated":{"line":8,"column":17},"source":"server.js","original":{"line":4,"column":19}},{"generated":{"line":8,"column":24},"source":"server.js","original":{"line":4,"column":26}},{"generated":{"line":8,"column":25},"source":"server.js","original":{"line":4,"column":27}},{"generated":{"line":8,"column":37},"source":"server.js","original":{"line":4,"column":26}},{"generated":{"line":8,"column":38},"source":"server.js","original":{"line":4,"column":0}},{"generated":{"line":10,"column":0},"source":"server.js","original":{"line":5,"column":0}},{"name":"bodyParser","generated":{"line":10,"column":4},"source":"server.js","original":{"line":5,"column":6}},{"generated":{"line":10,"column":14},"source":"server.js","original":{"line":5,"column":16}},{"name":"require","generated":{"line":10,"column":17},"source":"server.js","original":{"line":5,"column":19}},{"generated":{"line":10,"column":24},"source":"server.js","original":{"line":5,"column":26}},{"generated":{"line":10,"column":25},"source":"server.js","original":{"line":5,"column":27}},{"generated":{"line":10,"column":38},"source":"server.js","original":{"line":5,"column":26}},{"generated":{"line":10,"column":39},"source":"server.js","original":{"line":5,"column":0}},{"name":"require","generated":{"line":12,"column":15},"source":"server.js","original":{"line":6,"column":36}},{"generated":{"line":12,"column":22},"source":"server.js","original":{"line":6,"column":43}},{"generated":{"line":12,"column":23},"source":"server.js","original":{"line":6,"column":44}},{"generated":{"line":12,"column":42},"source":"server.js","original":{"line":6,"column":43}},{"name":"check","generated":{"line":13,"column":4},"source":"server.js","original":{"line":6,"column":8}},{"name":"check","generated":{"line":13,"column":21},"source":"server.js","original":{"line":6,"column":8}},{"name":"validationResult","generated":{"line":14,"column":4},"source":"server.js","original":{"line":6,"column":15}},{"name":"validationResult","generated":{"line":14,"column":32},"source":"server.js","original":{"line":6,"column":15}},{"generated":{"line":16,"column":0},"source":"server.js","original":{"line":8,"column":0}},{"name":"app","generated":{"line":16,"column":4},"source":"server.js","original":{"line":8,"column":6}},{"generated":{"line":16,"column":7},"source":"server.js","original":{"line":8,"column":9}},{"name":"express","generated":{"line":16,"column":10},"source":"server.js","original":{"line":8,"column":12}},{"generated":{"line":16,"column":17},"source":"server.js","original":{"line":8,"column":19}},{"generated":{"line":16,"column":19},"source":"server.js","original":{"line":8,"column":0}},{"name":"app","generated":{"line":17,"column":0},"source":"server.js","original":{"line":10,"column":0}},{"generated":{"line":17,"column":3},"source":"server.js","original":{"line":10,"column":3}},{"name":"use","generated":{"line":17,"column":4},"source":"server.js","original":{"line":10,"column":4}},{"generated":{"line":17,"column":7},"source":"server.js","original":{"line":10,"column":0}},{"name":"bodyParser","generated":{"line":17,"column":8},"source":"server.js","original":{"line":10,"column":8}},{"generated":{"line":17,"column":18},"source":"server.js","original":{"line":10,"column":18}},{"name":"urlencoded","generated":{"line":17,"column":19},"source":"server.js","original":{"line":10,"column":19}},{"generated":{"line":17,"column":29},"source":"server.js","original":{"line":10,"column":8}},{"generated":{"line":17,"column":30},"source":"server.js","original":{"line":10,"column":30}},{"name":"extended","generated":{"line":18,"column":0},"source":"server.js","original":{"line":10,"column":32}},{"name":"extended","generated":{"line":18,"column":2},"source":"server.js","original":{"line":10,"column":32}},{"generated":{"line":18,"column":10},"source":"server.js","original":{"line":10,"column":40}},{"generated":{"line":18,"column":12},"source":"server.js","original":{"line":10,"column":42}},{"generated":{"line":19,"column":0},"source":"server.js","original":{"line":10,"column":30}},{"generated":{"line":19,"column":1},"source":"server.js","original":{"line":10,"column":8}},{"generated":{"line":19,"column":2},"source":"server.js","original":{"line":10,"column":0}},{"name":"app","generated":{"line":20,"column":0},"source":"server.js","original":{"line":11,"column":0}},{"generated":{"line":20,"column":3},"source":"server.js","original":{"line":11,"column":3}},{"name":"use","generated":{"line":20,"column":4},"source":"server.js","original":{"line":11,"column":4}},{"generated":{"line":20,"column":7},"source":"server.js","original":{"line":11,"column":0}},{"generated":{"line":20,"column":8},"source":"server.js","original":{"line":11,"column":8}},{"generated":{"line":20,"column":17},"source":"server.js","original":{"line":11,"column":0}},{"name":"express","generated":{"line":20,"column":19},"source":"server.js","original":{"line":11,"column":19}},{"generated":{"line":20,"column":26},"source":"server.js","original":{"line":11,"column":26}},{"name":"static","generated":{"line":20,"column":27},"source":"server.js","original":{"line":11,"column":27}},{"generated":{"line":20,"column":33},"source":"server.js","original":{"line":11,"column":19}},{"name":"path","generated":{"line":20,"column":34},"source":"server.js","original":{"line":11,"column":34}},{"generated":{"line":20,"column":38},"source":"server.js","original":{"line":11,"column":38}},{"name":"join","generated":{"line":20,"column":39},"source":"server.js","original":{"line":11,"column":39}},{"generated":{"line":20,"column":43},"source":"server.js","original":{"line":11,"column":34}},{"name":"__dirname","generated":{"line":20,"column":44},"source":"server.js","original":{"line":11,"column":44}},{"generated":{"line":20,"column":53},"source":"server.js","original":{"line":11,"column":34}},{"generated":{"line":20,"column":55},"source":"server.js","original":{"line":11,"column":55}},{"generated":{"line":20,"column":63},"source":"server.js","original":{"line":11,"column":34}},{"generated":{"line":20,"column":64},"source":"server.js","original":{"line":11,"column":19}},{"generated":{"line":20,"column":65},"source":"server.js","original":{"line":11,"column":0}},{"name":"app","generated":{"line":21,"column":0},"source":"server.js","original":{"line":13,"column":0}},{"generated":{"line":21,"column":3},"source":"server.js","original":{"line":13,"column":3}},{"name":"get","generated":{"line":21,"column":4},"source":"server.js","original":{"line":13,"column":4}},{"generated":{"line":21,"column":7},"source":"server.js","original":{"line":13,"column":0}},{"generated":{"line":21,"column":8},"source":"server.js","original":{"line":13,"column":8}},{"generated":{"line":21,"column":11},"source":"server.js","original":{"line":13,"column":0}},{"generated":{"line":21,"column":13},"source":"server.js","original":{"line":13,"column":13}},{"name":"req","generated":{"line":21,"column":23},"source":"server.js","original":{"line":13,"column":22}},{"generated":{"line":21,"column":26},"source":"server.js","original":{"line":13,"column":13}},{"name":"res","generated":{"line":21,"column":28},"source":"server.js","original":{"line":13,"column":27}},{"generated":{"line":21,"column":31},"source":"server.js","original":{"line":13,"column":13}},{"generated":{"line":21,"column":33},"source":"server.js","original":{"line":13,"column":32}},{"name":"res","generated":{"line":22,"column":0},"source":"server.js","original":{"line":14,"column":2}},{"name":"res","generated":{"line":22,"column":2},"source":"server.js","original":{"line":14,"column":2}},{"generated":{"line":22,"column":5},"source":"server.js","original":{"line":14,"column":5}},{"name":"type","generated":{"line":22,"column":6},"source":"server.js","original":{"line":14,"column":6}},{"generated":{"line":22,"column":10},"source":"server.js","original":{"line":14,"column":2}},{"generated":{"line":22,"column":11},"source":"server.js","original":{"line":14,"column":11}},{"generated":{"line":22,"column":17},"source":"server.js","original":{"line":14,"column":2}},{"name":"res","generated":{"line":23,"column":0},"source":"server.js","original":{"line":15,"column":2}},{"name":"res","generated":{"line":23,"column":2},"source":"server.js","original":{"line":15,"column":2}},{"generated":{"line":23,"column":5},"source":"server.js","original":{"line":15,"column":5}},{"name":"sendFile","generated":{"line":23,"column":6},"source":"server.js","original":{"line":15,"column":6}},{"generated":{"line":23,"column":14},"source":"server.js","original":{"line":15,"column":2}},{"name":"path","generated":{"line":23,"column":15},"source":"server.js","original":{"line":15,"column":15}},{"generated":{"line":23,"column":19},"source":"server.js","original":{"line":15,"column":19}},{"name":"join","generated":{"line":23,"column":20},"source":"server.js","original":{"line":15,"column":20}},{"generated":{"line":23,"column":24},"source":"server.js","original":{"line":15,"column":15}},{"name":"__dirname","generated":{"line":23,"column":25},"source":"server.js","original":{"line":15,"column":25}},{"generated":{"line":23,"column":34},"source":"server.js","original":{"line":15,"column":15}},{"generated":{"line":23,"column":36},"source":"server.js","original":{"line":15,"column":36}},{"generated":{"line":23,"column":48},"source":"server.js","original":{"line":15,"column":15}},{"generated":{"line":23,"column":49},"source":"server.js","original":{"line":15,"column":2}},{"generated":{"line":24,"column":0},"source":"server.js","original":{"line":16,"column":1}},{"generated":{"line":24,"column":1},"source":"server.js","original":{"line":13,"column":0}},{"name":"app","generated":{"line":25,"column":0},"source":"server.js","original":{"line":17,"column":0}},{"generated":{"line":25,"column":3},"source":"server.js","original":{"line":17,"column":3}},{"name":"post","generated":{"line":25,"column":4},"source":"server.js","original":{"line":17,"column":4}},{"generated":{"line":25,"column":8},"source":"server.js","original":{"line":17,"column":0}},{"generated":{"line":25,"column":9},"source":"server.js","original":{"line":18,"column":2}},{"generated":{"line":25,"column":19},"source":"server.js","original":{"line":17,"column":0}},{"generated":{"line":25,"column":21},"source":"server.js","original":{"line":19,"column":2}},{"name":"check","generated":{"line":25,"column":22},"source":"server.js","original":{"line":20,"column":4}},{"generated":{"line":25,"column":27},"source":"server.js","original":{"line":20,"column":9}},{"generated":{"line":25,"column":28},"source":"server.js","original":{"line":20,"column":10}},{"generated":{"line":25,"column":34},"source":"server.js","original":{"line":20,"column":9}},{"generated":{"line":25,"column":35},"source":"server.js","original":{"line":20,"column":4}},{"name":"trim","generated":{"line":25,"column":36},"source":"server.js","original":{"line":21,"column":7}},{"generated":{"line":25,"column":40},"source":"server.js","original":{"line":20,"column":4}},{"name":"escape","generated":{"line":25,"column":43},"source":"server.js","original":{"line":22,"column":7}},{"generated":{"line":25,"column":49},"source":"server.js","original":{"line":20,"column":4}},{"generated":{"line":25,"column":51},"source":"server.js","original":{"line":19,"column":2}},{"name":"check","generated":{"line":25,"column":53},"source":"server.js","original":{"line":23,"column":4}},{"generated":{"line":25,"column":58},"source":"server.js","original":{"line":23,"column":9}},{"generated":{"line":25,"column":59},"source":"server.js","original":{"line":23,"column":10}},{"generated":{"line":25,"column":66},"source":"server.js","original":{"line":23,"column":9}},{"generated":{"line":25,"column":67},"source":"server.js","original":{"line":23,"column":4}},{"name":"isEmail","generated":{"line":25,"column":68},"source":"server.js","original":{"line":24,"column":7}},{"generated":{"line":25,"column":75},"source":"server.js","original":{"line":23,"column":4}},{"name":"normalizeEmail","generated":{"line":25,"column":78},"source":"server.js","original":{"line":25,"column":7}},{"generated":{"line":25,"column":92},"source":"server.js","original":{"line":23,"column":4}},{"generated":{"line":25,"column":94},"source":"server.js","original":{"line":19,"column":2}},{"name":"check","generated":{"line":25,"column":96},"source":"server.js","original":{"line":26,"column":4}},{"generated":{"line":25,"column":101},"source":"server.js","original":{"line":26,"column":9}},{"generated":{"line":25,"column":102},"source":"server.js","original":{"line":26,"column":10}},{"generated":{"line":25,"column":111},"source":"server.js","original":{"line":26,"column":9}},{"generated":{"line":25,"column":112},"source":"server.js","original":{"line":26,"column":4}},{"name":"trim","generated":{"line":25,"column":113},"source":"server.js","original":{"line":27,"column":7}},{"generated":{"line":25,"column":117},"source":"server.js","original":{"line":26,"column":4}},{"name":"escape","generated":{"line":25,"column":120},"source":"server.js","original":{"line":28,"column":7}},{"generated":{"line":25,"column":126},"source":"server.js","original":{"line":26,"column":4}},{"generated":{"line":25,"column":128},"source":"server.js","original":{"line":19,"column":2}},{"generated":{"line":25,"column":129},"source":"server.js","original":{"line":17,"column":0}},{"generated":{"line":25,"column":131},"source":"server.js","original":{"line":30,"column":2}},{"name":"req","generated":{"line":25,"column":141},"source":"server.js","original":{"line":30,"column":3}},{"generated":{"line":25,"column":144},"source":"server.js","original":{"line":30,"column":2}},{"name":"res","generated":{"line":25,"column":146},"source":"server.js","original":{"line":30,"column":8}},{"generated":{"line":25,"column":149},"source":"server.js","original":{"line":30,"column":2}},{"generated":{"line":25,"column":151},"source":"server.js","original":{"line":30,"column":16}},{"name":"console","generated":{"line":26,"column":0},"source":"server.js","original":{"line":31,"column":4}},{"name":"console","generated":{"line":26,"column":2},"source":"server.js","original":{"line":31,"column":4}},{"generated":{"line":26,"column":9},"source":"server.js","original":{"line":31,"column":11}},{"name":"log","generated":{"line":26,"column":10},"source":"server.js","original":{"line":31,"column":12}},{"generated":{"line":26,"column":13},"source":"server.js","original":{"line":31,"column":4}},{"name":"req","generated":{"line":26,"column":14},"source":"server.js","original":{"line":31,"column":16}},{"generated":{"line":26,"column":17},"source":"server.js","original":{"line":31,"column":4}},{"generated":{"line":27,"column":0},"source":"server.js","original":{"line":32,"column":4}},{"name":"errors","generated":{"line":27,"column":6},"source":"server.js","original":{"line":32,"column":10}},{"generated":{"line":27,"column":12},"source":"server.js","original":{"line":32,"column":16}},{"name":"validationResult","generated":{"line":27,"column":15},"source":"server.js","original":{"line":32,"column":19}},{"generated":{"line":27,"column":31},"source":"server.js","original":{"line":32,"column":35}},{"name":"req","generated":{"line":27,"column":32},"source":"server.js","original":{"line":32,"column":36}},{"generated":{"line":27,"column":35},"source":"server.js","original":{"line":32,"column":35}},{"generated":{"line":27,"column":36},"source":"server.js","original":{"line":32,"column":4}},{"generated":{"line":29,"column":0},"source":"server.js","original":{"line":33,"column":4}},{"generated":{"line":29,"column":6},"source":"server.js","original":{"line":33,"column":8}},{"name":"errors","generated":{"line":29,"column":7},"source":"server.js","original":{"line":33,"column":9}},{"generated":{"line":29,"column":13},"source":"server.js","original":{"line":33,"column":15}},{"name":"isEmpty","generated":{"line":29,"column":14},"source":"server.js","original":{"line":33,"column":16}},{"generated":{"line":29,"column":21},"source":"server.js","original":{"line":33,"column":9}},{"generated":{"line":29,"column":23},"source":"server.js","original":{"line":33,"column":4}},{"generated":{"line":29,"column":25},"source":"server.js","original":{"line":33,"column":27}},{"generated":{"line":30,"column":0},"source":"server.js","original":{"line":34,"column":6}},{"name":"res","generated":{"line":30,"column":11},"source":"server.js","original":{"line":34,"column":13}},{"generated":{"line":30,"column":14},"source":"server.js","original":{"line":34,"column":16}},{"name":"status","generated":{"line":30,"column":15},"source":"server.js","original":{"line":34,"column":17}},{"generated":{"line":30,"column":21},"source":"server.js","original":{"line":34,"column":13}},{"generated":{"line":30,"column":22},"source":"server.js","original":{"line":34,"column":24}},{"generated":{"line":30,"column":25},"source":"server.js","original":{"line":34,"column":13}},{"name":"json","generated":{"line":30,"column":27},"source":"server.js","original":{"line":34,"column":29}},{"generated":{"line":30,"column":31},"source":"server.js","original":{"line":34,"column":13}},{"generated":{"line":30,"column":32},"source":"server.js","original":{"line":34,"column":34}},{"name":"errors","generated":{"line":31,"column":0},"source":"server.js","original":{"line":34,"column":36}},{"name":"errors","generated":{"line":31,"column":6},"source":"server.js","original":{"line":34,"column":36}},{"generated":{"line":31,"column":12},"source":"server.js","original":{"line":34,"column":42}},{"name":"errors","generated":{"line":31,"column":14},"source":"server.js","original":{"line":34,"column":44}},{"generated":{"line":31,"column":20},"source":"server.js","original":{"line":34,"column":50}},{"name":"array","generated":{"line":31,"column":21},"source":"server.js","original":{"line":34,"column":51}},{"generated":{"line":31,"column":26},"source":"server.js","original":{"line":34,"column":44}},{"generated":{"line":32,"column":0},"source":"server.js","original":{"line":34,"column":34}},{"generated":{"line":32,"column":5},"source":"server.js","original":{"line":34,"column":13}},{"generated":{"line":32,"column":6},"source":"server.js","original":{"line":34,"column":6}},{"generated":{"line":33,"column":0},"source":"server.js","original":{"line":35,"column":5}},{"name":"console","generated":{"line":35,"column":0},"source":"server.js","original":{"line":36,"column":4}},{"name":"console","generated":{"line":35,"column":2},"source":"server.js","original":{"line":36,"column":4}},{"generated":{"line":35,"column":9},"source":"server.js","original":{"line":36,"column":11}},{"name":"log","generated":{"line":35,"column":10},"source":"server.js","original":{"line":36,"column":12}},{"generated":{"line":35,"column":13},"source":"server.js","original":{"line":36,"column":4}},{"name":"req","generated":{"line":35,"column":14},"source":"server.js","original":{"line":36,"column":16}},{"generated":{"line":35,"column":17},"source":"server.js","original":{"line":36,"column":4}},{"generated":{"line":36,"column":0},"source":"server.js","original":{"line":37,"column":4}},{"name":"mailOpts","generated":{"line":36,"column":6},"source":"server.js","original":{"line":37,"column":8}},{"generated":{"line":36,"column":14},"source":"server.js","original":{"line":37,"column":4}},{"name":"smtpTrans","generated":{"line":36,"column":16},"source":"server.js","original":{"line":37,"column":18}},{"generated":{"line":36,"column":25},"source":"server.js","original":{"line":37,"column":4}},{"name":"smtpTrans","generated":{"line":37,"column":0},"source":"server.js","original":{"line":38,"column":4}},{"name":"smtpTrans","generated":{"line":37,"column":2},"source":"server.js","original":{"line":38,"column":4}},{"generated":{"line":37,"column":11},"source":"server.js","original":{"line":38,"column":13}},{"name":"nodemailer","generated":{"line":37,"column":14},"source":"server.js","original":{"line":38,"column":16}},{"generated":{"line":37,"column":24},"source":"server.js","original":{"line":38,"column":26}},{"name":"createTransport","generated":{"line":37,"column":25},"source":"server.js","original":{"line":38,"column":27}},{"generated":{"line":37,"column":40},"source":"server.js","original":{"line":38,"column":16}},{"generated":{"line":37,"column":41},"source":"server.js","original":{"line":38,"column":43}},{"generated":{"line":37,"column":47},"source":"server.js","original":{"line":38,"column":16}},{"generated":{"line":37,"column":49},"source":"server.js","original":{"line":38,"column":51}},{"generated":{"line":38,"column":0},"source":"server.js","original":{"line":39,"column":6}},{"name":"service","generated":{"line":39,"column":0},"source":"server.js","original":{"line":40,"column":6}},{"name":"service","generated":{"line":39,"column":4},"source":"server.js","original":{"line":40,"column":6}},{"generated":{"line":39,"column":11},"source":"server.js","original":{"line":40,"column":13}},{"generated":{"line":39,"column":13},"source":"server.js","original":{"line":40,"column":15}},{"generated":{"line":39,"column":20},"source":"server.js","original":{"line":38,"column":51}},{"generated":{"line":40,"column":0},"source":"server.js","original":{"line":41,"column":6}},{"generated":{"line":41,"column":0},"source":"server.js","original":{"line":42,"column":6}},{"name":"auth","generated":{"line":42,"column":0},"source":"server.js","original":{"line":43,"column":6}},{"name":"auth","generated":{"line":42,"column":4},"source":"server.js","original":{"line":43,"column":6}},{"generated":{"line":42,"column":8},"source":"server.js","original":{"line":43,"column":10}},{"generated":{"line":42,"column":10},"source":"server.js","original":{"line":43,"column":12}},{"generated":{"line":43,"column":0},"source":"server.js","original":{"line":44,"column":8}},{"generated":{"line":44,"column":0},"source":"server.js","original":{"line":45,"column":8}},{"name":"user","generated":{"line":45,"column":0},"source":"server.js","original":{"line":46,"column":8}},{"name":"user","generated":{"line":45,"column":6},"source":"server.js","original":{"line":46,"column":8}},{"generated":{"line":45,"column":10},"source":"server.js","original":{"line":46,"column":12}},{"generated":{"line":45,"column":12},"source":"server.js","original":{"line":46,"column":14}},{"generated":{"line":45,"column":36},"source":"server.js","original":{"line":43,"column":12}},{"name":"pass","generated":{"line":46,"column":0},"source":"server.js","original":{"line":47,"column":8}},{"name":"pass","generated":{"line":46,"column":6},"source":"server.js","original":{"line":47,"column":8}},{"generated":{"line":46,"column":10},"source":"server.js","original":{"line":47,"column":12}},{"generated":{"line":46,"column":12},"source":"server.js","original":{"line":47,"column":14}},{"generated":{"line":47,"column":0},"source":"server.js","original":{"line":43,"column":12}},{"generated":{"line":48,"column":0},"source":"server.js","original":{"line":38,"column":51}},{"generated":{"line":48,"column":3},"source":"server.js","original":{"line":38,"column":16}},{"generated":{"line":48,"column":4},"source":"server.js","original":{"line":38,"column":4}},{"name":"mailOpts","generated":{"line":49,"column":0},"source":"server.js","original":{"line":50,"column":4}},{"name":"mailOpts","generated":{"line":49,"column":2},"source":"server.js","original":{"line":50,"column":4}},{"generated":{"line":49,"column":10},"source":"server.js","original":{"line":50,"column":12}},{"generated":{"line":49,"column":13},"source":"server.js","original":{"line":50,"column":15}},{"name":"from","generated":{"line":50,"column":0},"source":"server.js","original":{"line":51,"column":6}},{"name":"from","generated":{"line":50,"column":4},"source":"server.js","original":{"line":51,"column":6}},{"generated":{"line":50,"column":8},"source":"server.js","original":{"line":51,"column":10}},{"name":"req","generated":{"line":50,"column":10},"source":"server.js","original":{"line":51,"column":12}},{"generated":{"line":50,"column":13},"source":"server.js","original":{"line":51,"column":15}},{"name":"body","generated":{"line":50,"column":14},"source":"server.js","original":{"line":51,"column":16}},{"generated":{"line":50,"column":18},"source":"server.js","original":{"line":51,"column":12}},{"name":"name","generated":{"line":50,"column":19},"source":"server.js","original":{"line":51,"column":21}},{"generated":{"line":50,"column":23},"source":"server.js","original":{"line":51,"column":12}},{"generated":{"line":50,"column":26},"source":"server.js","original":{"line":51,"column":28}},{"generated":{"line":50,"column":33},"source":"server.js","original":{"line":51,"column":12}},{"name":"req","generated":{"line":50,"column":36},"source":"server.js","original":{"line":51,"column":38}},{"generated":{"line":50,"column":39},"source":"server.js","original":{"line":51,"column":41}},{"name":"body","generated":{"line":50,"column":40},"source":"server.js","original":{"line":51,"column":42}},{"generated":{"line":50,"column":44},"source":"server.js","original":{"line":51,"column":38}},{"name":"email","generated":{"line":50,"column":45},"source":"server.js","original":{"line":51,"column":47}},{"generated":{"line":50,"column":50},"source":"server.js","original":{"line":51,"column":12}},{"generated":{"line":50,"column":53},"source":"server.js","original":{"line":51,"column":55}},{"generated":{"line":50,"column":59},"source":"server.js","original":{"line":50,"column":15}},{"generated":{"line":51,"column":0},"source":"server.js","original":{"line":52,"column":6}},{"name":"to","generated":{"line":52,"column":0},"source":"server.js","original":{"line":53,"column":6}},{"name":"to","generated":{"line":52,"column":4},"source":"server.js","original":{"line":53,"column":6}},{"generated":{"line":52,"column":6},"source":"server.js","original":{"line":53,"column":8}},{"generated":{"line":52,"column":8},"source":"server.js","original":{"line":53,"column":10}},{"generated":{"line":52,"column":32},"source":"server.js","original":{"line":50,"column":15}},{"name":"subject","generated":{"line":53,"column":0},"source":"server.js","original":{"line":54,"column":6}},{"name":"subject","generated":{"line":53,"column":4},"source":"server.js","original":{"line":54,"column":6}},{"generated":{"line":53,"column":11},"source":"server.js","original":{"line":54,"column":13}},{"generated":{"line":53,"column":13},"source":"server.js","original":{"line":54,"column":15}},{"generated":{"line":53,"column":64},"source":"server.js","original":{"line":50,"column":15}},{"name":"text","generated":{"line":54,"column":0},"source":"server.js","original":{"line":55,"column":6}},{"name":"text","generated":{"line":54,"column":4},"source":"server.js","original":{"line":55,"column":6}},{"generated":{"line":54,"column":8},"source":"server.js","original":{"line":55,"column":10}},{"name":"req","generated":{"line":54,"column":20},"source":"server.js","original":{"line":55,"column":15}},{"generated":{"line":54,"column":23},"source":"server.js","original":{"line":55,"column":18}},{"name":"body","generated":{"line":54,"column":24},"source":"server.js","original":{"line":55,"column":19}},{"generated":{"line":54,"column":28},"source":"server.js","original":{"line":55,"column":15}},{"name":"name","generated":{"line":54,"column":29},"source":"server.js","original":{"line":55,"column":24}},{"generated":{"line":54,"column":33},"source":"server.js","original":{"line":55,"column":10}},{"name":"req","generated":{"line":54,"column":48},"source":"server.js","original":{"line":55,"column":33}},{"generated":{"line":54,"column":51},"source":"server.js","original":{"line":55,"column":36}},{"name":"body","generated":{"line":54,"column":52},"source":"server.js","original":{"line":55,"column":37}},{"generated":{"line":54,"column":56},"source":"server.js","original":{"line":55,"column":33}},{"name":"email","generated":{"line":54,"column":57},"source":"server.js","original":{"line":55,"column":42}},{"generated":{"line":54,"column":62},"source":"server.js","original":{"line":55,"column":10}},{"name":"req","generated":{"line":54,"column":83},"source":"server.js","original":{"line":55,"column":58}},{"generated":{"line":54,"column":86},"source":"server.js","original":{"line":55,"column":61}},{"name":"body","generated":{"line":54,"column":87},"source":"server.js","original":{"line":55,"column":62}},{"generated":{"line":54,"column":91},"source":"server.js","original":{"line":55,"column":58}},{"name":"message","generated":{"line":54,"column":92},"source":"server.js","original":{"line":55,"column":67}},{"generated":{"line":54,"column":99},"source":"server.js","original":{"line":55,"column":10}},{"generated":{"line":54,"column":100},"source":"server.js","original":{"line":50,"column":15}},{"generated":{"line":54,"column":101},"source":"server.js","original":{"line":56,"column":6}},{"generated":{"line":56,"column":0},"source":"server.js","original":{"line":50,"column":15}},{"generated":{"line":56,"column":3},"source":"server.js","original":{"line":50,"column":4}},{"name":"smtpTrans","generated":{"line":57,"column":0},"source":"server.js","original":{"line":58,"column":4}},{"name":"smtpTrans","generated":{"line":57,"column":2},"source":"server.js","original":{"line":58,"column":4}},{"generated":{"line":57,"column":11},"source":"server.js","original":{"line":58,"column":13}},{"name":"sendMail","generated":{"line":57,"column":12},"source":"server.js","original":{"line":58,"column":14}},{"generated":{"line":57,"column":20},"source":"server.js","original":{"line":58,"column":4}},{"name":"mailOpts","generated":{"line":57,"column":21},"source":"server.js","original":{"line":58,"column":23}},{"generated":{"line":57,"column":29},"source":"server.js","original":{"line":58,"column":4}},{"generated":{"line":57,"column":31},"source":"server.js","original":{"line":58,"column":33}},{"name":"error","generated":{"line":57,"column":41},"source":"server.js","original":{"line":58,"column":42}},{"generated":{"line":57,"column":46},"source":"server.js","original":{"line":58,"column":33}},{"name":"response","generated":{"line":57,"column":48},"source":"server.js","original":{"line":58,"column":49}},{"generated":{"line":57,"column":56},"source":"server.js","original":{"line":58,"column":33}},{"generated":{"line":57,"column":58},"source":"server.js","original":{"line":58,"column":59}},{"generated":{"line":58,"column":0},"source":"server.js","original":{"line":59,"column":6}},{"generated":{"line":59,"column":0},"source":"server.js","original":{"line":60,"column":6}},{"name":"error","generated":{"line":59,"column":8},"source":"server.js","original":{"line":60,"column":10}},{"generated":{"line":59,"column":13},"source":"server.js","original":{"line":60,"column":6}},{"generated":{"line":59,"column":15},"source":"server.js","original":{"line":60,"column":17}},{"name":"console","generated":{"line":60,"column":0},"source":"server.js","original":{"line":61,"column":8}},{"name":"console","generated":{"line":60,"column":6},"source":"server.js","original":{"line":61,"column":8}},{"generated":{"line":60,"column":13},"source":"server.js","original":{"line":61,"column":15}},{"name":"log","generated":{"line":60,"column":14},"source":"server.js","original":{"line":61,"column":16}},{"generated":{"line":60,"column":17},"source":"server.js","original":{"line":61,"column":8}},{"name":"error","generated":{"line":60,"column":18},"source":"server.js","original":{"line":61,"column":20}},{"generated":{"line":60,"column":23},"source":"server.js","original":{"line":61,"column":8}},{"name":"res","generated":{"line":61,"column":0},"source":"server.js","original":{"line":62,"column":8}},{"name":"res","generated":{"line":61,"column":6},"source":"server.js","original":{"line":62,"column":8}},{"generated":{"line":61,"column":9},"source":"server.js","original":{"line":62,"column":11}},{"name":"end","generated":{"line":61,"column":10},"source":"server.js","original":{"line":62,"column":12}},{"generated":{"line":61,"column":13},"source":"server.js","original":{"line":62,"column":8}},{"generated":{"line":61,"column":14},"source":"server.js","original":{"line":62,"column":16}},{"generated":{"line":61,"column":31},"source":"server.js","original":{"line":62,"column":8}},{"generated":{"line":62,"column":0},"source":"server.js","original":{"line":63,"column":7}},{"generated":{"line":62,"column":5},"source":"server.js","original":{"line":60,"column":6}},{"generated":{"line":62,"column":11},"source":"server.js","original":{"line":63,"column":13}},{"name":"res","generated":{"line":63,"column":0},"source":"server.js","original":{"line":64,"column":8}},{"name":"res","generated":{"line":63,"column":6},"source":"server.js","original":{"line":64,"column":8}},{"generated":{"line":63,"column":9},"source":"server.js","original":{"line":64,"column":11}},{"name":"end","generated":{"line":63,"column":10},"source":"server.js","original":{"line":64,"column":12}},{"generated":{"line":63,"column":13},"source":"server.js","original":{"line":64,"column":8}},{"generated":{"line":63,"column":14},"source":"server.js","original":{"line":64,"column":16}},{"generated":{"line":63,"column":31},"source":"server.js","original":{"line":64,"column":8}},{"generated":{"line":64,"column":0},"source":"server.js","original":{"line":65,"column":7}},{"generated":{"line":65,"column":0},"source":"server.js","original":{"line":66,"column":5}},{"generated":{"line":65,"column":3},"source":"server.js","original":{"line":58,"column":4}},{"generated":{"line":66,"column":0},"source":"server.js","original":{"line":67,"column":3}},{"generated":{"line":66,"column":1},"source":"server.js","original":{"line":17,"column":0}},{"name":"app","generated":{"line":67,"column":0},"source":"server.js","original":{"line":70,"column":0}},{"generated":{"line":67,"column":3},"source":"server.js","original":{"line":70,"column":3}},{"name":"listen","generated":{"line":67,"column":4},"source":"server.js","original":{"line":70,"column":4}},{"generated":{"line":67,"column":10},"source":"server.js","original":{"line":70,"column":0}},{"generated":{"line":67,"column":11},"source":"server.js","original":{"line":70,"column":11}},{"generated":{"line":67,"column":15},"source":"server.js","original":{"line":70,"column":0}},{"name":"console","generated":{"line":68,"column":0},"source":"server.js","original":{"line":71,"column":0}},{"generated":{"line":68,"column":7},"source":"server.js","original":{"line":71,"column":7}},{"name":"log","generated":{"line":68,"column":8},"source":"server.js","original":{"line":71,"column":8}},{"generated":{"line":68,"column":11},"source":"server.js","original":{"line":71,"column":0}},{"generated":{"line":68,"column":12},"source":"server.js","original":{"line":71,"column":12}},{"generated":{"line":68,"column":48},"source":"server.js","original":{"line":71,"column":0}}],"sources":{"server.js":"require('dotenv').config();\r\nconst express = require('express');\r\nconst path = require('path');\r\nconst nodemailer = require('nodemailer');\r\nconst bodyParser = require('body-parser');\r\nconst { check, validationResult } = require('express-validator');\r\n\r\nconst app = express();\r\n\r\napp.use(bodyParser.urlencoded({ extended: true }));\r\napp.use('/public', express.static(path.join(__dirname, 'public')));\r\n\r\napp.get('/', function(req, res) {\r\n  res.type('html');\r\n  res.sendFile(path.join(__dirname, 'index.html'));\r\n});\r\napp.post(\r\n  '/contact',\r\n  [\r\n    check('name')\r\n      .trim()\r\n      .escape(),\r\n    check('email')\r\n      .isEmail()\r\n      .normalizeEmail(),\r\n    check('message')\r\n      .trim()\r\n      .escape(),\r\n  ],\r\n  (req, res) => {\r\n    console.log(req);\r\n    const errors = validationResult(req);\r\n    if (!errors.isEmpty()) {\r\n      return res.status(422).json({ errors: errors.array() });\r\n    }\r\n    console.log(req);\r\n    let mailOpts, smtpTrans;\r\n    smtpTrans = nodemailer.createTransport('SMTP', {\r\n      // host: 'smtp.gmail.com',\r\n      service: 'Gmail',\r\n      // port: 465,\r\n      // secure: true,\r\n      auth: {\r\n        // user: process.env.GMAIL_USR,\r\n        // pass: process.env.GMAIL_PASS,\r\n        user: 'adelgado0723@gmail.com',\r\n        pass: 'Iloveakimura2018!',\r\n      },\r\n    });\r\n    mailOpts = {\r\n      from: req.body.name + ' &lt;' + req.body.email + '&gt;',\r\n      // to: process.env.GMAIL_USR,\r\n      to: 'adelgado0723@gmail.com',\r\n      subject: 'New message from contact form at andy-delgado.com',\r\n      text: `${req.body.name} (${req.body.email}) says: ${req.body.message}`,\r\n      // textEncoding: 'UTF-8',\r\n    };\r\n    smtpTrans.sendMail(mailOpts, function(error, response) {\r\n      // console.log(response);\r\n      if (error) {\r\n        console.log(error);\r\n        res.end('contact-failure');\r\n      } else {\r\n        res.end('contact-success');\r\n      }\r\n    });\r\n  }\r\n);\r\n\r\napp.listen(3000);\r\nconsole.log('listening on http://localhost:3000');\r\n"},"lineCount":null}},"error":null,"hash":"acffdc1e84af17deb53cd46996f5b677","cacheData":{"env":{}}}